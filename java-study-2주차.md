# Java study 2주차

## 목표 
자바의 프리미티브 타입, 변수 그리고 배열을 사용하는 방법을 익힙니다.


## 프리미티브 타입 종류와 값의 범위 그리고 기본 값

| 정수형   | 할당되는 메모리 크기 | 데이터 표현 범위        | 기본값 |
|-------|-------------|------------------|-----|
| byte  | 1바이트        | -128~127         | 0   |
| short | 2바이트        | -2^15~(2^15 - 1) | 0   |
| int   | 4바이트        | -2^31~(2^31 - 1) | 0   |
| long  | 8바이트        | -2^63~(2^63 - 1) | 0   |

| 실수형    | 메모리 크기 | 범위                      | 기본값  |
|--------|--------|-------------------------|------|
| float  | 4바이트   | -3.4e+38 ~ +3.4e+38     | 0.0f |
| double | 8바이트   | -1.79e+308 ~ +1.79e+308 | 0.0d |

  
| 문자형  | 메모리 크기 | 범위         | 기본값          |
|------|--------|------------|--------------|
| char | 2바이트   | 0 ~ 2^16-1 | \0 or \u0000 |

| 논리형     | 메모리 크기 | 범위          | 기본값   |
|---------|--------|-------------|-------|
| boolean | 1바이트   | true, false | false |

## 프리미티브 타입과 레퍼런스 타입
프리미티브 타입 로컬 변수는 스택 영역에 저장된다.(Frame의 로컬 변수 영역)
메모리 주소가 가리키는 위치에 value를 저장하고 있다.

레퍼런스 타입 로컬 변수도 스택 영역에 저장
메모리 주소가 가리키는 위치에 힙 메모리 주소값을 저장.

## 리터럴
리터럴이란?
소소 코드의 고정된 값을 대표하는 용어.

### 상수와 리터럴
상수란?  
변하지 않는 값을 뜻한다. 리터럴과 비슷하지만 이는 변수에 대해 표현하는 단어.
PI = 3.1412312  라는 불변의 변수가 있다고 하자. PI는 상수다. 3.1412312가 상수라고 표현하지 않는다.

위 예에서 3.1412312은 리터럴이다. 리터럴은 데이터 관점에서 변하지 않는 값을 의미한다.

## 변수 선언 및 초기화하는 방법
### 선언
```
    String hello; // 변수 선언
    String hello2 = "hello"; // 선언 & 초기화
    int a,b;  // 다중 선언
```

### 초기화
* 명시적 초기화
* 블록 초기화
## 변수의 스코프와 라이프타임
### 변수의 스코프
기본 규칙 1: 중괄호 바깥의 변수가 안쪽 변수보다 한단계 더 넓은 스코프를 가진다.
기본 규칙 2: 같은 중괄호 안의 변수들은 동일한 스코프를 가진다.

### 라이프타임
#### 클래스 메타정보, static 변수의 라이프타임
스태틱 변수는 Method 영역에 저장됨.
프로그램이 종료될 때까지 메모리에 남아있다.

#### 인스턴스의 메서드의 로컬 변수, 파라미터
스택 영역의 frame에 저장되므로, 메서드가 종료될 때 메모리에서 사라진다.

#### 인스턴스 변수
* 해당 인스턴스가 고립될 경우, GC 대상이 된다.
* 해당 인스턴스가 고립되지 않은 경우, GC의 Old 영역이 꽉 찰 경우 GC 대상이 될 수 있다.

#### GC 동작 방식
![](https://t1.daumcdn.net/cfile/tistory/2337E84C57EE474A37)
* Minor GC
1. eden 영역의 객체가 꽉 찬다.
2. 고립된 객체를 제거하고 살아남은 객체를 survivor 영역으로 이동시킨다.
3. 1,2 를 반복하다 서바이버 영역이 꽉차면 old 영역으로 이동시킨다.

* Major GC
old 영역이 꽉차면 오래된 객체부터 제거 대상이 된다.

## 타입 변환, 캐스팅 그리고 타입 프로모션
타입변환 : 인스턴스의 타입을 변환하는 것
프로모션 : 기본 숫자형 데이터 타입에서 범위가 작은 타입에서 큰 타입으로 형변환되는 것
캐스팅 : 기본 숫자형 데이터 타입에서 범위가 큰 타입에서 작은 타입으로 형변환되는 것

## 1차 및 2차 배열 선언하기
```
// 배열 참조만 선언
int[] arr; 
int arr[];

// 크기 할당
int[] arr = new int[5];

// 크기랑 값까지 할당
int[] arr = {1,2,3};

// 2차원 배열 선언
int[][] arr = new int[row][col]
int[][] arr = {{1,2},{3,4}}
```

## 타입 추론, var
- 타입 추론?  
코드 작성 당시 타입이 정해지지 않았지만, 컴파일러가 그 타입을 유추하는 것.

- var 제약사항  
1. 지역 변수에만 사용
2. 초기화 필요
3. null로 초기화 불가
4. 배열에 사용 x
5. 람다에 사용할 수 없다.

하지만 타입이 복잡할 경우, 지역 변수에 적절하게 사용하면 편리하게 사용 가능한 것 같은데
호불호가 심한듯하다.



